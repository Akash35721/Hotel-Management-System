  {%load static%}
  <!doctype html>
  <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>Tour de Atlantis</title>
      <link rel="stylesheet" href="{% static 'Welcomestyle.css' %}">

    <style>
      .summary-container {
        background-color: #f9f9f9;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.1);
        width: 80%;
        max-width: 600px;
        text-align: left;
        margin: 0 auto;
        margin-top: 20px;
    }

    .summary-content {
        margin-bottom: 20px;
    }

    .submit-button {
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        padding: 10px 20px;
        font-size: 18px;
    }

    </style>
    </head>
    <body>
      <nav class="navbar">
          <div class="circle">
              <img src="{%static 'poseidon_logo.png'%}" alt="Hotel logo">
          </div>
          <ul class="navbar-list">
              <li class="navbar-item"><a href="/" id="logoname">TOUR De ATLANTIS</a></li>
              <li class="navbar-item"><a href="/">ABOUT</a></li>
              <li class="navbar-item"><a href="/rooms">ROOMS</a></li>
              <li class="navbar-item"><a href="/blogs">BLOGS AND REVIEWS</a></li>
              <li class="navbar-item"><a href="/offers">SPECIAL OFFERS</a></li>
              <li class="navbar-item"><a href="/booking">RESERVATIONS</a></li>
              <li class="navbar-item"><a href="/signin" class="highlighted">SIGNIN</a></li>
          </ul>
      </nav>

        <div class="summary-container" id="summaryContainer">
          <div class="summary-content">
            <h2>Booking Summary</h2>
            <p><strong>Guest name: </strong>{{username}}</p>
            <p><strong>Check-in Date:</strong> {{checkin}}</p>
            <p><strong>Check-out Date:</strong> {{checkout}}</p>
            <p><strong>Room Type:</strong> {{roomtype}}</p>
            <p><strong>Coupon/Offer Code:</strong> {{Code}}</p>
            <p><strong>Price per night:</strong> {{price_per_night}}</p>
            <h3>Guest Details:</h3>
            <br>
            Total price: {{totalprice}} 
            <div>
          
          </div>
          <a class="btn btn-primary" href="/booking_confirm/?data={{checkin}},{{checkout}},{{username}},{{roomtype}},{{Code}},{{price_per_night}},{{totalprice}}" role="button">Submit Booking</a>
          <!--<button href ="/booking_confirm/?data={{ booking_ID }},{{checkin}},{{checkout}},{{username}},{{roomtype}},{{Code}},{{price_per_night}},{{totalprice}}" class="submit-button" id="submitBtn">Submit Booking</button>-->
      </div>


  

    <script>
      const submitbtn = document.getElementById("submitBtn");
      submitbtn.addEventListener("onclick",showSummary());
        
      function showSummary() {
        const summaryContainer = document.getElementById("summaryContainer");
        const summaryContent = document.querySelector(".summary-content");

        // Gather form data
        const checkinDate = document.getElementById("checkin").value;
        const checkoutDate = document.getElementById("checkout").value;
        const roomType = document.getElementById("room_type").value;
        const Code = document.getElementById("Offers").value;

        const guestDetails = [];
        for (let i = 1; i <= guestCountInput.value; i++) {
            const guestName = document.getElementById(guest_name${i}).value;
            const guestEmail = document.getElementById(guest_email${i}).value;
            guestDetails.push({ Name: guestName, Email: guestEmail });
        }

        const summaryHTML = `
         
                ${guestDetails.map(guest => <li><strong>Name:</strong> ${guest.Name}, <strong>Email:</strong> ${guest.Email}</li>).join('')}
            </ul>
        `;

        summaryContent.innerHTML = summaryHTML;
        summaryContainer.style.display = "block";
        document.getElementById("mainForm").style.display = "none";
    }

    </script>
  </body>
  </html>